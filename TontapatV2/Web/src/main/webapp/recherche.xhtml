<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/arch.xhtml">

	<ui:define name="head">
		<title>Recherche</title>
		<!-- <f:metadata>
			<f:event listener="#{mbAccount.disconnect()}" type="preRenderView"></f:event>
		</f:metadata> -->
	</ui:define>

	<ui:define name="content">
		<h1>Recherchez des disponibilités pour une prestation</h1>
		
		<b:form >
			<b:panel
				style-class="cat-margin-top-3rem cat-margin-bottom-5rem 
				col-sm-offset-1 col-md-offset-2 col-xs-12 col-sm-10 col-md-8">
				<b:row>
					<b:column >
						<b:datepicker id="cdate1" mode="toggle-icon" showWeek="true"
						              firstDay="1" value="#{dateBean.cdate}" required="true"
						              label="Date Début:" label-col-sm="5" col-sm="6"  />
					</b:column>
				</b:row>
				<b:row>
					<b:column >
						<b:datepicker id="cdate2" mode="toggle-icon" showWeek="true"
						              firstDay="1" value="#{dateBean.cdate}" required="true"
						              label="Date Fin:" label-col-sm="5" col-sm="6"  />
					</b:column>
				</b:row>
				<b:row>
				    <b:column col-sm="6">
				      <b:commandButton value="Rechercher" update="@form" col-sm="6"
				                       look="success" onclick="ajax:dateBean.onSubmitDate3()" />
				    </b:column>
				</b:row>
			</b:panel>
		</b:form>
			<b:column>
				<div>
					<br/>
					<p>Terrain Selectionné : <h:outputLabel var="terrain"  value="#{mbRecherche.terrain.nomTerrain}"/></p>
					<h:outputText value="Malheureusement aucun troupeau disponible" rendered="#{empty mbRecherche.troupeauxCompatiblesAvecDates}"/>
					<ui:repeat var="troup" value="#{mbRecherche.troupeauxCompatiblesAvecDates}" >
						<p>Nom : <h:outputLabel value="#{troup.troupeau.nomTroupeau}"/> </p>
						<p>Description : <h:outputLabel value="#{troup.troupeau.description}"/></p>
						<p>A partir du : <h:outputLabel value="#{troup.dateMin}"/>
						   Jusqu'au : <h:outputLabel value="#{troup.dateMax}"/> </p>
					</ui:repeat>
				</div>
			</b:column>
	</ui:define>

</ui:composition>

</html>