<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/arch.xhtml">

	<ui:define name="head">
		<title>Mes Troupeaux</title>
		<!-- <f:metadata>
			<f:event listener="#{mbAccount.disconnect()}" type="preRenderView"></f:event>
		</f:metadata> -->
	</ui:define>
	<ui:define name="content">
		<div class="troupeauxTitre">
			<h1>Vos Troupeaux, <h:outputLabel value="#{mbCompte.utilisateur.nom}" /> !</h1>
		</div>
		<button class="troupeauxAjoutTroupeau">
		<p>Ajouter un troupeau</p>
		<b:iconAwesome value="plus-circle" solid="true" size="3x"/>
		</button>
		<div class="troupeauxDivs">
			<ui:repeat class="troupeauxBigDiv" var="troupeau" value="#{mbTroupeau.troupeaux}" varStatus="status">
				<div class="troupeauBigDiv">
					<div class="troupeauSmallDiv">
						<p>Nom : <h:outputLabel value="#{troupeau.nomTroupeau}" /></p>
						<p>Description : <h:outputLabel value="#{troupeau.description}" /></p>
						<p>Coût par animal : <h:outputLabel value="#{troupeau.coutParAnimal}" /></p>
						<p>Fréquence de visite : <h:outputLabel value="#{troupeau.frequenceVisite}" /></p>
			            <b:button  class="troupeauButtonDetail" value="Voir le détail du troupeau" onclick="$('.modalPseudoClass${status.index}').modal()"/>
			            
<!-- 			            <p><h:outputLabel value="#{troupeau.motifRetraitTroupeau.libelleMotifRetraitTroupeau}" /></p> -->
						
					</div>
				</div>
				<b:modal id="amodal${status.index}" title="Détail du troupeau : #{troupeau.nomTroupeau}" styleClass="modalPseudoClass${status.index}" closable="false"  close-on-escape="false" backdrop="false">
						<p>Nom : <h:outputLabel value="#{troupeau.nomTroupeau}" /></p>
						<p>Description : <h:outputLabel value="#{troupeau.description}" /></p>
						<p>Coût par animal : <h:outputLabel value="#{troupeau.coutParAnimal}" /></p>
						<p>Fréquence de visite : <h:outputLabel value="#{troupeau.frequenceVisite}" /></p>
						<ui:repeat var="race" value="#{troupeau.compositionTroupeau}">
			                <p><h:outputLabel value="#{race.raceRef.libelleRace}" /></p>
			                <p><h:outputLabel value="#{race.nbAnimaux}" /></p>
			                <p><h:outputLabel value="#{race.raceRef.especeRef.libelleEspece}" /></p>
			            </ui:repeat>	
					  <f:facet name="footer">
					    <b:button value="Close" dismiss="modal" />
					    <b:button value="Proposer une prestation" look="primary" dismiss="modal" />
					    <b:button value="Supprimer le troupeau" look="primary" dismiss="modal" />
					  </f:facet>
				</b:modal>
			</ui:repeat>
		</div>
		

	</ui:define>
	
</ui:composition>
</html>