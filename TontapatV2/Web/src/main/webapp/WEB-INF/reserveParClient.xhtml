<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui">
	
	Reserve par client.xhtml component<br/>
	User connecté :<h:outputLabel value="#{user.utilisateur.id}"/> 
	<hr/>
	<h:outputLabel value="#{prestaBuByMain.stateString}"/>
	
	<!-- Vue Client --> 
	<ui:fragment rendered="#{prestaBuByMain.client.id == user.utilisateur.id}">
		Votre demande de réservation est toujours en attente
	</ui:fragment>
	
	<!--  Vue Eleveur -->
	<ui:fragment rendered="#{prestaBuByMain.eleveur.id == user.utilisateur.id}">
		<h:form>
		<p>Vous avez reçu une demande de réservation, vous devez la confirmer ou l'annuler : </p>
		<!-- mbPresta accessible -->
		<p>
		<b:commandButton value="Confirmer" action="#{mbPresta.valide( prestaBuByMain.prestation.idPrestation )}" /> ou
		<b:commandButton value="Annuler" action="#{mbPresta.annule( prestaBuByMain.prestation.idPrestation ) }"/>
		</p>
<!-- 		<f:ajax listener="#{mbReservation.updateView()}" execute="@form" render="@form" /> -->
		<b:button  class="prestationButtonDetail" value="Voir le détail de la prestation" onclick="$('.modalPseudoClass${prestaBU.key}').modal()"/>
		</h:form>
	</ui:fragment>
	
</ui:composition>
